(function(t){function e(e){for(var s,n,c=e[0],o=e[1],r=e[2],d=0,v=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(v.length)v.shift()();return l.push.apply(l,r||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},l=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var u=o;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.method&&"list"!==t.method?t._e():a("Qjsq_list",{on:{detail:t.goToDatail}}),"add"===t.method?a("Qjadd_container"):t._e(),"detail"===t.method?a("Qjdatail_container",{attrs:{detail:t.detail,idx:t.detail_idx}}):t._e()],1)},l=[],n=(a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container details"},[a("div",{staticClass:"topbar",staticStyle:{height:"52px"}},[a("div",{staticClass:"top-head"},[t._m(0),a("div",[t._v("请假列表")]),a("div",{on:{click:t.goToAdd}},[t._m(1)])])]),0===t.item.length?a("div",{staticClass:"weui-cells__title custom"},[a("span",{staticStyle:{color:"#ec9a2c","font-size":"14px"},on:{click:t.goToAdd}},[t._v("当前暂无“请假”记录，点击此处立即“请假”")])]):t._e(),t.item.length>0?a("form",{attrs:{name:"form1"}},t._l(t.item,(function(e,s){return a("Leave_item",{key:s,attrs:{leaving_obj:e,idx:s},nativeOn:{click:function(a){return t.emitDetail(e,s)}}})})),1):t._e(),a("div",{staticClass:"footer-copy-space"}),a("Pager",{attrs:{"count-per-page":"10","current-page":"1","total-count":t.item.length}})],1)}),c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",[a("i",{staticClass:"iconfont icon-back",staticStyle:{color:"#FFF"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("i",{staticClass:"iconfont icon-fangzi",staticStyle:{color:"#FFF"}})])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cells leavelist custom"},[a("a",{staticClass:"weui-cell weui-cell_access pass"},[a("div",{staticClass:"weui-cell__icon"},[t._v(" "+t._s(t.getName("who",2))+" ")]),a("div",{staticClass:"weui-cell__bd"},[a("span",[t._v("所属学院："+t._s(t.leaving_obj.college))]),a("span",[t._v("请假类型："+t._s(t.leaving_obj.type))]),a("span",[t._v("行程范围："+t._s(t.leaving_obj.range))]),a("span",[t._v("请假开始时间："+t._s(t.leaving_obj.start))]),a("span",[t._v("请假结束时间："+t._s(t.leaving_obj.end))]),a("div",{staticClass:"datebox"},[a("span",{staticClass:"date"},[t._v(t._s(t.leaving_obj.apply))]),t.idx>0?a("span",{staticClass:"status",staticStyle:{color:"#999"}},[t._v("已销假")]):t._e()])]),a("div",{staticClass:"weui-cell__ft"})])])},r=[],u={props:["leaving_obj","idx"],name:"leave_item",methods:{getName:function(t,e){var a=localStorage.getItem(t);return e&&a?a.substring(a.length-e):a}}},d=u,v=a("2877"),p=Object(v["a"])(d,o,r,!1,null,"b2d99df8",null),_=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pager",staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{"font-size":"12px"}},[t._v(" 共"+t._s(t.totalCount)+"条 "+t._s(t.currentPage)+"/"+t._s(Math.floor(t.totalCount/t.countPerPage)+!(t.totalCount%t.countPerPage===0))+"页")]),t._v(" | "),a("a",[t._v("首页")]),a("a",{staticClass:"pgbg02"},[t._v("上一页")]),a("a",{staticClass:"pgbg"},[t._v("下一页")]),t._v(" | "),a("a",[t._v("末页")]),a("br")])},f=[],g={name:"pager",props:["totalCount","countPerPage","currentPage"]},h=g,C=Object(v["a"])(h,m,f,!1,null,"f537e758",null),w=C.exports,y={name:"qjsq_list",components:{Pager:w,Leave_item:_},methods:{emitDetail:function(t,e){this.$emit("detail",t,e)},goToAdd:function(){window.location="?method=add"}},data:function(){return{item:[]}},mounted:function(){this.item=localStorage.getItem("leave_apply"),null==this.item?this.item=[]:this.item=JSON.parse(this.item),console.log(this.item)}},b=y,x=Object(v["a"])(b,n,c,!1,null,"7e8219e4",null),S=x.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container leavedetails"},[a("div",{staticClass:"topbar",staticStyle:{height:"52px",display:"none"}},[a("div",{staticClass:"top-head"},[a("div",{on:{click:function(e){return t.goToList()}}},[t._m(0)]),a("div",[t._v("请假信息")]),t._m(1)])]),a("div",{staticClass:"leaveinfo pass"},[a("form",{attrs:{id:"form1",name:"form1"}},[a("div",{staticClass:"info gcp",staticStyle:{position:"relative"},attrs:{"data-form":"form1"}},[a("div",{staticClass:"avatar",staticStyle:{width:"45px",height:"45px","font-size":"17px"}},[t._v(" "+t._s(t.getName("who",2))+" ")]),a("div",{staticClass:"name"},[a("span",{staticStyle:{"font-size":"16px",color:"white"}},[t._v(t._s(t.getName("who")))]),a("span",{staticStyle:{"font-size":"12px",color:"#cac0c0"}},[t._v("审批已通过")])]),a("div",{staticClass:"weui-cell__ft"})])]),a("div",{staticClass:"infodetails"},[a("div",{staticClass:"box"},[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("所在学院")]),a("span",[t._v(t._s(t.detail.college))])])]),a("div",{staticClass:"box"},[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("请假类型")]),a("span",[t._v(t._s(t.detail.type))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("请假时长")]),a("span",{attrs:{id:"qjsxs"}},[t._v(t._s(t.getDelta(t.detail.start,t.detail.end)))])])]),a("div",{staticClass:"box"},[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("请假开始时间")]),a("span",[t._v(t._s(t.detail.start))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("请假结束时间")]),a("span",[t._v(t._s(t.detail.end))])])])]),a("div",{staticClass:"explain",staticStyle:{"border-top":"#f3f3f3 0px solid","margin-top":"-30px",overflow:"auto"}},[a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[t._v("行程范围")]),a("p",{staticClass:"infocontent"},[t._v(t._s(t.detail.range))])]),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[t._v("事由说明")]),a("p",{staticClass:"infocontent",staticStyle:{"white-space":"pre-line"}},[t._v(t._s(t.detail.reason))])]),a("div",{staticClass:"box"},[a("span",{staticClass:"title"},[t._v("前往目的地")]),a("p",{staticClass:"infocontent"},[t._v(t._s(t.detail.place))])])])]),a("div",{staticClass:"flow"},[a("ul",[a("li",[a("div",{staticClass:"avatar"},[t._v(" "+t._s(t.getName("who",2))+" ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"ttl"},[a("span",{staticClass:"text",staticStyle:{"font-size":"16px"}},[t._v("发起申请")]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(t.detail.apply.substring(5,t.detail.apply.length-3)))])])])]),a("li",[a("div",{staticClass:"avatar pass"},[t._v(" "+t._s(t.getName("teacher1",2))+" ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"ttl"},[a("span",{staticClass:"text",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.getName("teacher1"))+"审核（已通过）")]),t._m(2)]),a("div",{staticClass:"ctn"})])]),a("li",[a("div",{staticClass:"avatar pass"},[t._v(" "+t._s(t.getName("teacher2",2))+" ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"ttl"},[a("span",{staticClass:"text",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.getName("teacher2"))+"审核（已通过）")]),t._v(" "),t._m(3)]),a("div",{staticClass:"ctn"})])]),t.idx>0?a("li",[a("div",{staticClass:"avatar"},[t._v(" "+t._s(t.getName("who",2))+" ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"ttl"},[a("span",{staticClass:"text",staticStyle:{"font-size":"16px"}},[t._v("销假")]),t._v(" "),t._m(4)]),a("div",{staticClass:"ctn"},[t._v("完成")])])]):t._e(),a("li",[t._m(5),a("div",{staticClass:"content pointer"},[a("div",{staticClass:"ttl"},[t._v("审批共耗时"+t._s(this.spdelta/6e4)+"分钟")])])])])]),a("div",{staticClass:"footer-copy-space"},[a("div",{staticStyle:{"text-align":"left"}},[a("button",{staticStyle:{"background-color":"transparent","border-style":"none","line-height":"30px",color:"#538fff",outline:"0"},attrs:{type:"button"},on:{click:t.goToList}},[a("i",{staticClass:"icon iconfont ",staticStyle:{"font-size":"14px","margin-right":"-3px"},attrs:{id:"fhan"}}),t._v(" 返回 ")])])])])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("i",{staticClass:"iconfont icon-back",staticStyle:{color:"#FFF"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",[a("i",{staticClass:"iconfont icon-fangzi",staticStyle:{color:"#FFF"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"time",domProps:{textContent:t._s(t.getRandCheckDate(t.detail.apply))}})},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"time",domProps:{textContent:t._s(t.getRandCheckDate(t.detail.apply))}})},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"time",domProps:{textContent:t._s(t.getRandCheckDate(t.detail.end))}})},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pointer"},[a("i",{staticClass:"icon"})])}],E={name:"qjdatail_container",props:["detail","idx"],data:function(){return{spdelta:0}},methods:{goToList:function(){window.location=""},getName:function(t,e){var a=localStorage.getItem(t);return e&&a?a.substring(a.length-e):a},getDelta:function(t,e){var a=new Date(t),s=new Date(e),i=s.getTime()-a.getTime(),l="",n=Math.floor(i/36e5);n>=1&&(l+=n+"小时 ");var c=Math.floor(i%36e5/6e4);return c>=1&&(l+=c+"分钟"),l},getRandCheckDate:function(t){var e=new Date(t),a=this.spdelta;a+=60*(Math.floor(10*Math.random())+20)*1e3,this.spdelta=a;var s=new Date(e.getTime()+a),i=s.getMonth()+1;i=i<10?"0"+i:i;var l=s.getDate();l=l<10?"0"+l:l;var n=s.getHours();n=n<10?"0"+n:n;var c=s.getMinutes();return c=c<10?"0"+c:c,i+"-"+l+" "+n+":"+c}}},P=E,N=Object(v["a"])(P,j,$,!1,null,"1a03c9fc",null),O=N.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container details"},[a("div",{staticClass:"topbar",staticStyle:{height:"52px","border-bottom":"1px solid #f3f3f3"}},[a("div",{staticClass:"top-head"},[a("div",{on:{click:t.goToList}},[t._m(0)]),a("div",[t._v("请假申请")]),t._m(1)])]),a("div",{staticClass:"weui-cells custom",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"weui-cell"},[t._m(2),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],staticClass:"weui-input",attrs:{type:"datetime-local"},domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(3),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],staticClass:"weui-input",attrs:{type:"datetime-local"},domProps:{value:t.end},on:{input:function(e){e.target.composing||(t.end=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(4),a("div",{staticClass:"weui-cell__ft"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"weui-input",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"其他事由",selected:""}},[t._v("其他事由")])])])]),a("div",{staticClass:"weui-cell"},[t._m(5),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(6),a("div",{staticClass:"weui-cell__ft"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.range,expression:"range"}],staticClass:"weui-input",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.range=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"西安市内",selected:""}},[t._v("西安市内")])])])]),a("div",{staticClass:"weui-cell"},[t._m(7),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.place,expression:"place"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}})])]),t._m(8),a("div",{staticClass:"weui-cell"},[t._m(9),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.who,expression:"who"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.who},on:{input:function(e){e.target.composing||(t.who=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(10),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.college,expression:"college"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.college},on:{input:function(e){e.target.composing||(t.college=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(11),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.p1,expression:"p1"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.p1},on:{input:function(e){e.target.composing||(t.p1=e.target.value)}}})])]),a("div",{staticClass:"weui-cell"},[t._m(12),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.p2,expression:"p2"}],staticClass:"weui-input",attrs:{type:"text"},domProps:{value:t.p2},on:{input:function(e){e.target.composing||(t.p2=e.target.value)}}})])])]),a("div",{staticClass:"sub-btn-box"},[a("button",{staticClass:"weui-btn bg-blue",attrs:{type:"submit"},on:{click:t.commitApply}},[t._v("提 交")])]),a("div",{staticClass:"footer-copy-space"})])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",[a("i",{staticClass:"iconfont icon-back",staticStyle:{color:"#FFF"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",[a("i",{staticClass:"iconfont icon-fangzi",staticStyle:{color:"#FFF"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("起始时间")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("截止时间")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("请假类型")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("事由说明")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("行程范围")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("前往目的地")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__bd"},[a("p",{staticStyle:{color:"grey"}},[t._v("全局配置")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("请假学生")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("所在院校")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("第一审批人")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__bd"},[a("p",[t._v("第二审批人")])])}],k=(a("5319"),{name:"qjadd_container",methods:{goToList:function(){window.location="?"},commitApply:function(){var t=localStorage.getItem("leave_apply");t=null===t?[]:JSON.parse(t);var e={};e.start=this.start.replace("T"," "),e.end=this.end.replace("T"," "),e.type=this.type,e.reason=this.reason,e.range=this.range,e.place=this.place,e.college=this.college,e.apply=this.getYesterdayDate(),e.start&&e.end&&e.reason&&e.place&&e.college&&t.unshift(e);while(t.length>10)t.remove(9);localStorage.setItem("leave_apply",JSON.stringify(t)),localStorage.setItem("who",this.who),localStorage.setItem("teacher1",this.p1),localStorage.setItem("teacher2",this.p2),localStorage.setItem("college",this.college),this.goToList()},getYesterdayDate:function(){var t=new Date((new Date).getTime()-864e5),e="-",a=":",s=t.getFullYear(),i=t.getMonth()+1,l=t.getDate(),n=t.getHours(),c=t.getMinutes(),o=t.getSeconds();return i>=1&&i<=9&&(i="0"+i),l>=0&&l<=9&&(l="0"+l),n>=0&&n<=9&&(n="0"+n),c>=0&&c<=9&&(c="0"+c),o>=0&&o<=9&&(o="0"+o),s+e+i+e+l+" "+n+a+c+a+o}},data:function(){return{start:"",end:"",type:"其他事由",reason:"",range:"西安市内",place:"学校附近",who:"",college:"",p1:"",p2:""}},mounted:function(){this.college=localStorage.getItem("college"),this.who=localStorage.getItem("who"),this.p1=localStorage.getItem("teacher1"),this.p2=localStorage.getItem("teacher2")}}),F=k,I=Object(v["a"])(F,T,D,!1,null,"4f16970e",null),z=I.exports,M={name:"Index",components:{Qjadd_container:z,Qjdatail_container:O,Qjsq_list:S},data:function(){return{method:"",detail:{},detail_idx:0}},methods:{goToDatail:function(t,e){this.detail=t,this.detail_idx=e,this.method="detail"},goToAdd:function(){this.method="add"}},mounted:function(){var t=new RegExp("(^|&)method=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(t);this.method=null!=e?unescape(e[2]):"list"}},A=M,L=Object(v["a"])(A,i,l,!1,null,"728a46af",null),q=L.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(q)}}).$mount("#app")}});
//# sourceMappingURL=app.dcf6d3fb.js.map